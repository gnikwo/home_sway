### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod1
#
set $monitor-1 DP-2
set $monitor-2 DVI-D-1 
set $monitor-3 HDMI-A-2
#
# Home row direction keys, like vim
set $left c
set $down t
set $up s
set $right r
#
# Your preferred terminal emulator
set $term termite
#
set $menu dmenu_path | dmenu -b | xargs swaymsg exec


output $monitor-1 pos 0 0 res 1920x1080@Hz
output $monitor-2 pos 1920 0 res 1920x1080@144Hz
output $monitor-3 pos 3840 0

font pango:DejaVu Sans Mono 8
focus_follows_mouse no

floating_modifier $mod

output * bg ~/.config/background/digital_space_universe_4k_8k-2560x1600.jpg fill

# Window borders
new_window none
default_border pixel 1
gaps outer 10 
gaps inner 10

gaps inner 10
gaps outer 10

exec --no-startup-id "mako"

bindsym Ctrl+Space exec "makoctl dismiss"

# File explorer
bindsym $mod+p exec "thunar"

# change focus
bindsym $mod+c focus left
bindsym $mod+t focus down
bindsym $mod+s focus up
bindsym $mod+r focus right

# move focused window
bindsym $mod+Shift+c move left
bindsym $mod+Shift+t move down
bindsym $mod+Shift+s move up
bindsym $mod+Shift+r move right

# split in horizontal orientation
bindsym $mod+h split h
# split in vertical orientation
bindsym $mod+v split v


# change container layout (stacked, tabbed, toggle split)
bindsym $mod+b layout toggle split
bindsym $mod+eacute layout tabbed
bindsym $mod+f fullscreen

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle
# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+q focus parent
# focus the child container
#bindsym $mod+d focus child

workspace 1 output $monitor-1
workspace 2 output $monitor-1
workspace 3 output $monitor-1
workspace 4 output $monitor-1
workspace 5 output $monitor-2
workspace 6 output $monitor-2
workspace 7 output $monitor-2
workspace 8 output $monitor-2
workspace 9 output $monitor-3
workspace 10 output $monitor-3
workspace 0 output $monitor-3

# switch to workspace
bindsym $mod+0x22 workspace 1
bindsym $mod+0xab workspace 2
bindsym $mod+0xbb workspace 3
bindsym $mod+0x28 workspace 4
bindsym $mod+0x29 workspace 5
bindsym $mod+0x40 workspace 6
bindsym $mod+0x2b workspace 7
bindsym $mod+0x2d workspace 8
bindsym $mod+0x2f workspace 9
bindsym $mod+0x2a workspace 10

# move focused container to workspace
bindsym $mod+Shift+0x22 move container to workspace 1
bindsym $mod+Shift+0xab move container to workspace 2
bindsym $mod+Shift+0xbb move container to workspace 3
bindsym $mod+Shift+0x28 move container to workspace 4
bindsym $mod+Shift+0x29 move container to workspace 5
bindsym $mod+Shift+0x40 move container to workspace 6
bindsym $mod+Shift+0x2b move container to workspace 7
bindsym $mod+Shift+0x2d move container to workspace 8
bindsym $mod+Shift+0x2f move container to workspace 9
bindsym $mod+Shift+0x2a move container to workspace 10
#
    # start a terminal
    bindsym $mod+Return exec $term

    # kill focused window
    bindsym $mod+Shift+y kill

    # start your launcher
    bindsym $mod+i exec $menu

    # Drag floating windows by holding down $mod and left mouse button.
    # Resize them with right mouse button + $mod.
    # Despite the name, also works for non-floating windows.
    # Change normal to inverse to use left mouse button for resizing and right
    # mouse button for dragging.
    floating_modifier $mod normal

    # reload the configuration file
    bindsym $mod+Shift+0xe8 reload

    # exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+E exec "swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'"

#
# Scratchpad:
#
    # Sway has a "scratchpad", which is a bag of holding for windows.
    # You can send windows there and get them back later.

    # Move the currently focused window to the scratchpad
    #bindsym $mod+Shift+minus move scratchpad

    # Show the next scratchpad window or hide the focused scratchpad window.
    # If there are multiple scratchpad windows, this command cycles through them.
    #bindsym $mod+minus scratchpad show
#
# Resizing containers:
#
mode "resize" {
    # left will shrink the containers width
    # right will grow the containers width
    # up will shrink the containers height
    # down will grow the containers height
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    # ditto, with arrow keys
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    # return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+x mode "resize"

mode "passthrough" {
        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+Escape mode "passthrough"

# Floating windows
for_window [class="Xmessage"] floating enable
for_window [class="Nautilus"] floating enable
for_window [class="mobilityVanet"] floating enable
for_window [class="dolphin"] floating enable
for_window [class="Thunar"] floating enable
for_window [class="okular"] floating enable
for_window [class="Yubico Authenticator"] floating enable

for_window [class="vlc"] workspace 10
assign [class="vlc"] 10

# Screenshot
bindsym Print exec "grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') Screenshots/$(date +'%Y-%m-%d-%H%M%S_grim.png')"
bindsym Ctrl+Print exec "slurp | grim -g - Screenshots/$(date +'%Y-%m-%d-%H%M%S_grim.png')"

# Lock
bindsym Ctrl+Escape exec "/usr/bin/lock.sh"
bindsym $mod+Ctrl+Escape exec "/usr/bin/lock_n_sleep.sh"

# Volume control
bindsym XF86AudioRaiseVolume exec "amixer -c 1 set Master 2+; pkill -RTMIN+1 i3blocks"
bindsym $mod+KP_Add exec "amixer -c 1 set Master 2+; pkill -RTMIN+1 i3blocks"
bindsym XF86AudioLowerVolume exec "amixer -c 1 set Master 2-; pkill -RTMIN+1 i3blocks"
bindsym $mod+KP_Subtract exec "amixer set -c 1 Master 2-; pkill -RTMIN+1 i3blocks"
bindsym XF86AudioMute exec "amixer -D pulse -c 1 set Master toggle; pkill -RTMIN+1 i3blocks"

exec --no-startup-id "swaymsg 'workspace 1; exec termite'"
exec --no-startup-id "swaymsg 'workspace 5; exec firefox'"
exec --no-startup-id "swaymsg 'workspace 7; exec termite -e irssi'"
exec --no-startup-id "swaymsg 'workspace 8; exec telegram-desktop'"
exec --no-startup-id "swaymsg 'workspace 8; exec signal-desktop'"
exec --no-startup-id "swaymsg 'workspace 8; exec riot-desktop'"
exec --no-startup-id "swaymsg 'workspace 0; exec thunar'"

input 7805:12700:ROCCAT_ROCCAT_Isku {
    xkb_layout fr,fr,us
    xkb_variant bepo,oss,
    xkb_options grp:shift_caps_toggle
}

bar {
    output $monitor-1
    output $monitor-2
    position top
    font inconsolata
    colors {
        statusline #ffffff
        background #32323270
    #    inactive_workspace #32323200 #32323200 #5c5c5c
    }
    status_command i3blocks 
}

bar {
    output $monitor-3
    position top
    gaps 24 38 0 38
    font inconsolata
    colors {
        statusline #ffffff
        background #32323270
    #    inactive_workspace #32323200 #32323200 #5c5c5c
    }
    status_command i3blocks -c .config/i3blocks/tv 
}

include /etc/sway/config.d/*
